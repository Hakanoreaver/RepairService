<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Edit Professional</title>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.9/angular.min.js"></script>
    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css">
    <!-- jQuery library -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <!-- Popper JS -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js"></script>
    <!-- Latest compiled JavaScript -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js"></script>

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

    <script>
        function load() {
            var ajax = new XMLHttpRequest();
            ajax.open('GET', 'http://localhost:9090/main/professional/find/' + localStorage.getItem("pEdit"), false);
            ajax.send();
            var json = JSON.parse(ajax.responseText);
            document.getElementById("name").value = json.name;
            document.getElementById("bt").value = json.bankToken;
            document.getElementById("e").value = json.email;
            document.getElementById("mn").value = json.mobileNumber;
            document.getElementById("pt").value = json.passwordToken;
            document.getElementById("abn").value = json.abn;
            document.getElementById("cn").value = json.certificationNumber;
            document.getElementById("pv").value = json.priceVariance;
        }

        function edit() {
            var name = document.getElementById("name").value;
            var bt = document.getElementById("bt").value;
            var e = document.getElementById("e").value;
            var mn = document.getElementById("mn").value;
            var pt = document.getElementById("pt").value;
            var abn = document.getElementById("abn").value;
            var cn =  document.getElementById("cn").value;
            var pv = document.getElementById("pv").value;

            var ajax = new XMLHttpRequest();
            ajax.open('GET', 'http://localhost:9090/main/admin/editProfessional/' + name + "/" + bt + "/" + e + "/" + mn + "/" + pt + "/" + abn + "/" + cn + "/" + pv + "/" + localStorage.getItem("pEdit"), false);
            ajax.send();
            location.reload();
        }

        function delet() {
            var ajax = new XMLHttpRequest();
            ajax.open('GET', 'http://localhost:9090/main/professional/delete/' + localStorage.getItem("pEdit"), false);
            ajax.send();
        }
    </script>
</head>
<body style="background-color: #add8e6" onload="load()">
<div class="row">
    <div class="col-sm" align="middle" onload="load()">
        <h1>Edit Professional</h1>
        <br>
        Name
        <input type="text" placeholder="Name" style="display: block" id="name">
        <br>
        Bank Token
        <input type="text" placeholder="Bank Token" style="display: block" id="bt">
        <br>
        Email
        <input type="text" placeholder="Email" style="display: block" id="e">
        <br>
        Mobile Number
        <input type="text" placeholder="Mobile Number" style="display: block" id="mn">
        <br>
        Password Token
        <input type="text" placeholder="Password Token" style="display: block" id="pt">
        <br>
        ABN
        <input type="text" placeholder="ABN" style="display: block" id="abn">
        <br>
        Certification Number
        <input type="text" placeholder="Certification Number" style="display: block" id="cn">
        <br>
        Price Variance
        <input type="text" placeholder="Price Variance" style="display: block" id="pv">
        <br>
        <button style="margin: 20px" onclick="edit()">Submit Edit</button>
        <br>
        <button style="margin: 20px" onclick="delet()">Delete</button>
    </div>
</div>
</body>
</html>